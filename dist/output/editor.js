!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=4)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.REG={TRIM_JSON:/(,+)([^a-z0-9["])/gi,CHROME_EXTENSION:/^chrome-extension:\/\//i,FORWARD:/\\|\[|]|\(|\)|\*|\$|\^/i,WHITESPACE:/\s+/g,X_HEADER:/^x-/},n.ALL_URLS="<all_urls>",n.BLOCKING="blocking",n.REQUEST_HEADERS="requestHeaders",n.RESPONSE_HEADERS="responseHeaders",n.DEFAULT_CREDENTIALS_RESPONSE_HEADERS="Content-Type, access-control-allow-headers, Authorization, X-Requested-With, X-Referer",n.CORS={METHODS:"access-control-allow-methods",CREDENTIALS:"access-control-allow-credentials",ORIGIN:"access-control-allow-origin",HEADERS:"access-control-allow-headers"},n.ACCESS_CONTROL_REQUEST_HEADERS="access-control-request-headers",n.DEFAULT_CORS_ORIGIN="*",n.DEFAULT_CORS_METHODS="*",n.DEFAULT_CORS_CREDENTIALS="true",n.ORIGIN="origin",n.DISABLED_STORAGE_KEY="disabled",n.JSONC_STORAGE_KEY="config_for_shown",n.JSON_STORAGE_KEY="config",n.CLEAR_CACHE_ENABLED_STORAGE_KEY="clearCacheEnabled",n.CORS_STORAGE_KEY="cors",n.CORS_ENABLED_STORAGE_KEY="corsEnabled",n.PROXY_STORAGE_KEY="proxy",n.MILLISECONDS_PER_WEEK=6048e5,n.RULE="rule",n.LANGUAGE_JSON="json",n.CHANGE="change",n.DOM_CONTENT_LOADED="DOMContentLoaded",n.SWITCH_DOM_ID="J_Switch",n.SWITCH_INNER_DOM_ID="J_SwitchInner",n.SWITCH_AREA_DOM_ID="J_SwitchArea",n.NEW_TAB_DOM_ID="J_OpenInNewTab",n.OPEN_README_DOM_ID="J_OpenReadme",n.CONTAINER_DOM_ID="J_Container",n.STATUS_DOM_ID="J_Status",n.CLEAR_CACHE_ENABLED_DOM_ID="J_ClearCacheEnabled",n.CORS_ENABLED_DOM_ID="J_CorsEnabled",n.SWITCH_CHECKED_CLASSNAME="ant-switch-checked",n.POPUP_HTML_PATH="output/XSwitch.html",n.MONACO_VS_PATH="../lib/monaco-editor/min/vs",n.MONACO_CONTRIBUTION_PATH="vs/language/json/monaco.contribution",n.HELP_URL="https://yuque.com/jiushen/blog/xswitch-readme",n.DEFAULT_FONT_FAMILY="source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace",n.PLATFORM_MAC="Mac",n.OPTIONS_SAVED="Options saved.",n.EMPTY_STRING="",n.KEY_DOWN="keydown",n.CLICK="click",n.ANYTHING="anyString",n.FORMAT_DOCUMENT_CMD="editor.action.formatDocument",n.KEY_CODE_S=83,n.SHOW_FOLDING_CONTROLS="always",n.OPACITY_VISIBLE="1",n.NULL_STRING="null",n.RULE_COMPLETION='[\n  "${1:from}",\n  "${1:to}",\n],',n.DEFAULT_DATA='{\n  // Use IntelliSense to learn about possible links.\n  // Type `rule` to quick insert rule.\n  // 输入 rule 来快速插入规则\n  // For more information, visit: https://github.com/yize/xswitch\n  "proxy": [\n    [\n      ".production.min.js",\n      // ".production(.min)?.js",\n      ".development.js"\n      // "react.development.js",\n    ],\n    [\n      "16.4.1",\n      "16.4.0",\n    ]\n    // then try visit https://unpkg.com/react@16.4.1/umd/react.production.min.js\n  ],\n  // urls that want CORS\n  "cors": [\n    "mocks.a.com",\n    "mocks.b.com"\n  ]\n}\n'},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.REG="reg",e.STRING="string"}(n.UrlType||(n.UrlType={})),function(e){e.YES="enabled",e.NO="disabled"}(n.Enabled||(n.Enabled={})),function(e){e.ON="#1890ff",e.OFF="#bfbfbf",e.ERROR="#f5222d"}(n.IconBackgroundColor||(n.IconBackgroundColor={})),function(e){e.ERROR="Error",e.OFF="OFF",e.ON="ON"}(n.BadgeText||(n.BadgeText={}))},,,function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(0),r=t(1),_=t(5);let c;function s(){const e=c.getValue(),n=_.JSONC2JSON(e);chrome.storage.sync.set({[o.JSONC_STORAGE_KEY]:e,[o.JSON_STORAGE_KEY]:n},()=>{})}function i(){document.getElementById(o.SWITCH_DOM_ID).classList.add(o.SWITCH_CHECKED_CLASSNAME),document.getElementById(o.SWITCH_INNER_DOM_ID).innerHTML=r.BadgeText.ON}function E(){document.getElementById(o.SWITCH_DOM_ID).classList.remove(o.SWITCH_CHECKED_CLASSNAME),document.getElementById(o.SWITCH_INNER_DOM_ID).innerHTML=r.BadgeText.OFF}window.require.config({paths:{vs:o.MONACO_VS_PATH}}),chrome.storage.sync.get(o.JSONC_STORAGE_KEY,e=>{let n=!0;window.require([o.MONACO_CONTRIBUTION_PATH],()=>{c=window.monaco.editor.create(document.getElementById(o.CONTAINER_DOM_ID),{value:e[o.JSONC_STORAGE_KEY]||o.DEFAULT_DATA,language:o.LANGUAGE_JSON,minimap:{enabled:!1},fontFamily:o.DEFAULT_FONT_FAMILY,fontSize:13,fontLigatures:!0,contextmenu:!1,scrollBeyondLastLine:!1,folding:!0,showFoldingControls:o.SHOW_FOLDING_CONTROLS,useTabStops:!0,wordBasedSuggestions:!0,quickSuggestions:!0,suggestOnTriggerCharacters:!0}),s(),window.monaco.languages.registerCompletionItemProvider(o.LANGUAGE_JSON,{provideCompletionItems:()=>{const e=[];chrome.extension.getBackgroundPage()._forward.urls.forEach(n=>{n&&e.push({label:n,kind:window.monaco.languages.CompletionItemKind.Text})});const n=[{label:o.RULE,kind:window.monaco.languages.CompletionItemKind.Method,insertText:{value:o.RULE_COMPLETION}}];return[...e,...n]}}),c.onDidChangeModelContent(()=>{s()}),c.onDidScrollChange(()=>{n&&(c.trigger(o.ANYTHING,o.FORMAT_DOCUMENT_CMD),n=!1)})})}),chrome.storage.sync.get(o.DISABLED_STORAGE_KEY,e=>{document.getElementById(o.SWITCH_AREA_DOM_ID).style.opacity=o.OPACITY_VISIBLE,e.disabled===r.Enabled.NO?E():i()}),document.getElementById(o.SWITCH_DOM_ID).addEventListener(o.CLICK,e=>{e.currentTarget.classList.contains(o.SWITCH_CHECKED_CLASSNAME)?(E(),chrome.storage.sync.set({disabled:r.Enabled.NO})):(chrome.storage.sync.set({disabled:r.Enabled.YES}),i())}),document.getElementById(o.NEW_TAB_DOM_ID).addEventListener(o.CLICK,e=>{chrome.tabs.create({url:chrome.extension.getURL(o.POPUP_HTML_PATH)},function(e){})}),document.getElementById(o.OPEN_README_DOM_ID).addEventListener(o.CLICK,e=>{chrome.tabs.create({url:o.HELP_URL},function(e){})}),document.addEventListener(o.KEY_DOWN,e=>{const n=navigator.platform.match(o.PLATFORM_MAC)?e.metaKey:e.ctrlKey;e.keyCode===o.KEY_CODE_S&&n&&e.preventDefault()},!1)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(6),r=t(0);n.JSONC2JSON=function(e){return o.stripJsonComments(e).replace(r.REG.WHITESPACE,r.EMPTY_STRING).replace(r.REG.TRIM_JSON,(e,n,t)=>t)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(0),r=1,_=2,c=()=>o.EMPTY_STRING,s=(e,n,t)=>e.slice(n,t).replace(/\S/g," ");n.stripJsonComments=function(e,n){const t=!1===(n=n||{}).whitespace?c:s;let i=!1,E=!1,a=0,l=o.EMPTY_STRING;for(let n=0;n<e.length;n++){const o=e[n],c=e[n+1];if(E||'"'!==o||"\\"===e[n-1]&&"\\"!==e[n-2]||(i=!i),!i)if(E||o+c!=="//"){if(E===r&&o+c==="\r\n"){E=!1,l+=t(e,a,++n),a=n;continue}if(E===r&&"\n"===o)E=!1,l+=t(e,a,n),a=n;else{if(!E&&o+c==="/*"){l+=e.slice(a,n),a=n,E=_,n++;continue}if(E===_&&o+c==="*/"){E=!1,l+=t(e,a,++n+1),a=n+1;continue}}}else l+=e.slice(a,n),a=n,E=r,n++}return l+(E?t(e.substr(a),0,0):e.substr(a))}}]);